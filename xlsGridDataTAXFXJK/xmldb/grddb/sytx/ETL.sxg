colwidth="22,102,159,102,127,149,131,22" rowheight="6,36,24,24,26,26,26,26,26,26,28,34,26,37,26,26,26,38,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,15" cellvalue="1,1,ETL-数据转换定义~n2,1,ETL编号：~n2,3,名称：~n2,5,分类：~n3,1,说明：~n4,1,第一步：从ftp或web下载(如果类型为空表示不执行第一步!!!)~n5,1,类型：~n5,2,ftp~n5,3,格式：~n5,4,txt~n5,5,分割符：~n5,6,,~n6,1,远程连接：~n6,3,文件名：~n6,5,下载后删除文件：~n7,1,本地目录：~n7,3,文件名：~n7,5,(文件名为空时默认为EDI编号)~n8,1,触发函数：~n8,2,Export~n8,3,下载后触发服务端OS函数，参数(etl,db)~n9,1,第二步：来源库(如果第一步类型非空，这里是临时表)~n10,1,表名称：~n10,3,数据库：~n10,5,WHERE条件：~n11,1,触发函数：~n11,2,Trans~n11,3,导入后触发服务端OS函数，参数(etl,db)，表名称为空时系统自动创建表，并在整个过程结束后Drop掉~n12,1,第三步：载入目标库~n13,1,目标表：~n13,3,如果非空，按照Insert+Update的方式把临时表的数据导入到目标表，否则自动创建~n13,5,WHERE条件：~n14,1,唯一键：~n14,3,数据库：~n14,5,唯一键用来判断更新还是插入~n15,1,触发函数：~n15,2,Load~n15,3,导入后触发服务端函数，参数(etl,db)，用于比较复杂的载入，如一次载入到多个表~n16,1,字段列表~n16,5,如：'01'||ID~n16,6,更新目标表按以下字段~n17,1,编号(仅作标识)~n17,2,说明~n17,3,类型~n17,4,来源数据库(临时库)列，为空表示跳过~n17,5,列转换计算公式，为空表示不转换~n17,6,对应目标库的字段~n" style="s1,1,2,0,0,0,0,Arial,9.000000,#000000,#FFFFFF,,0,1~ns2,2,2,0,0,0,0,宋体,12.000000,#3366FF,#FFFFFF,,0,1~ns3,1,2,0,0,0,0,Arial,9.000000,#000000,#FFFFFF,,0,1~ns4,3,2,1,1,1,1,宋体,9.000000,#FF6600,#FFFFFF,,0,1~ns5,1,2,1,1,1,1,宋体,9.000000,#000000,#FFFFFF,,0,0~ns6,3,2,1,1,1,1,宋体,9.000000,#000080,#FFFFFF,,0,1~ns7,1,2,1,1,1,1,宋体,9.000000,#000000,#99CCFF,,0,1~ns8,1,2,1,1,1,1,宋体,9.000000,#000000,#FFFFFF,,0,0~ns9,2,2,1,1,1,1,宋体,9.000000,#000000,#FFFFFF,,0,0~ns10,2,2,1,1,1,1,宋体,9.000000,#000000,#FFFFFF,,0,0~ns11,1,2,1,1,1,1,宋体,9.000000,#808080,#FFFFFF,,0,1~ns12,1,2,1,1,1,1,宋体,9.000000,#808080,#FFFFFF,,1,1~ns13,1,2,1,1,0,1,宋体,9.000000,#808080,#FFFFFF,,1,1~ns14,1,2,0,1,1,1,宋体,9.000000,#808080,#FFFFFF,,0,0~ns15,1,2,1,1,0,1,宋体,9.000000,#000000,#FFFFFF,,0,1~ns16,1,2,0,1,0,1,宋体,9.000000,#000000,#FFFFFF,,0,1~ns17,1,2,0,1,0,1,宋体,9.000000,#808080,#FFFFFF,,0,1~ns18,1,2,0,1,1,1,宋体,9.000000,#808080,#FFFFFF,,0,1~ns19,1,2,1,1,1,1,宋体,9.000000,#000000,#99CCFF,,1,1~n" cellstyle="s1,s1,s1,s1,s1,s1,s1,s1~ns1,s2,s3,s3,s3,s3,s3,s1~ns1,s4,s5,s6,s5,s6,s5,s1~ns1,s6,s5,s3,s3,s3,s3,s1~ns1,s7,s3,s3,s3,s3,s3,s1~ns1,s6,s8,s6,s8,s4,s9,s1~ns1,s4,s5,s6,s5,s6,s10,s1~ns1,s6,s5,s6,s5,s11,s3,s1~ns1,s6,s8,s11,s3,s3,s3,s1~ns1,s7,s3,s3,s3,s3,s3,s1~ns1,s6,s5,s6,s5,s6,s5,s1~ns1,s6,s8,s12,s3,s3,s3,s1~ns1,s7,s3,s3,s3,s3,s3,s1~ns1,s4,s5,s13,s3,s6,s14,s1~ns1,s6,s5,s6,s5,s11,s3,s1~ns1,s6,s8,s11,s3,s3,s3,s1~ns1,s7,s15,s16,s16,s17,s18,s1~ns1,s19,s19,s19,s19,s19,s19,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s5,s5,s5,s5,s5,s5,s1~ns1,s1,s1,s1,s1,s1,s1,s1~n" combine="1,1,5,0,~n3,2,4,0,~n4,1,5,0,~n7,5,1,0,~n8,3,3,0,~n9,1,5,0,~n11,3,3,0,~n12,1,5,0,~n13,3,1,0,~n14,5,1,0,~n15,3,3,0,~n" formula="" 